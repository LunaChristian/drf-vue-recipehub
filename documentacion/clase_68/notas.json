{
  "numero": 68,
  "tema": "Creación del modelo UserMetadata para extender el modelo User",
  "resumen": [
    "Se crea el modelo UserMetadata dentro de la app seguridad para extender la información del usuario.",
    "Se establece una relación ForeignKey con el modelo User de Django.",
    "Se agrega el campo token para verificación de cuentas o restablecimiento de contraseñas.",
    "Se realizan las migraciones y se valida la relación entre auth_user y user_metadata."
  ],
  "objetivos": [
    "Aprender a extender el modelo de usuario sin modificar auth_user.",
    "Definir un campo token para futuras validaciones de seguridad.",
    "Aplicar migraciones correctamente y verificar la relación en base de datos."
  ],
  "comandos": [
    "python manage.py makemigrations seguridad",
    "python manage.py migrate"
  ],
  "snippets_clave": {
    "seguridad/models.py": [
      "from django.db import models",
      "from django.contrib.auth.models import User",
      "",
      "class UserMetadata(models.Model):",
      "    user = models.ForeignKey(User, on_delete=models.DO_NOTHING)",
      "    token = models.CharField(max_length=100, blank=True, null=True)",
      "",
      "    def __str__(self):",
      "        return f\"{self.user.first_name} {self.user.last_name}\"",
      "",
      "    class Meta:",
      "        db_table = 'user_metadata'",
      "        verbose_name = 'User Metadata'",
      "        verbose_name_plural = 'Users Metadata'"
    ]
  },
  "archivos_modificados_o_creados": [
    "seguridad/models.py"
  ],
  "relaciones": [
    "Cada usuario en auth_user debe tener un registro en user_metadata."
  ],
  "decisiones": [
    "Usar una tabla separada para extender la información de usuario.",
    "Evitar modificar el modelo auth_user directamente.",
    "Establecer relación 1 a 1 funcional mediante ForeignKey y control en lógica de inserción."
  ],
  "pendientes": [
    "Implementar inserción en cascada al registrar usuarios.",
    "Incorporar el token como parte del flujo de verificación o recuperación de contraseña."
  ]
}
